<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
a:link, span.MsoHyperlink
	{color:#0563C1;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:#954F72;
	text-decoration:underline;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:107%;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
-->
</style>

</head>

<body lang=EN-US link="#0563C1" vlink="#954F72" style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-size:24.0pt;line-height:107%'>Remix Online Store</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Video: </span><a
href="https://youtu.be/K56f1Z1Ha7c" target="_blank"><span style='font-size:
14.0pt;line-height:107%'>https://youtu.be/K56f1Z1Ha7c</span></a></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>GitHub Repo:
</span><a href="https://github.com/Ashot72/Remix-Online-Store"><span
style='font-size:14.0pt;line-height:107%'>https://github.com/Ashot72/Remix-Online-Store</span></a></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Remix </span><a
href="https://remix.run/" target="_blank"><span style='font-size:14.0pt;
line-height:107%'>https://remix.run/</span></a><span style='font-size:14.0pt;
line-height:107%'> is a full stack web framework that lets you focus on the
user interface and work through web standards to deliver a fast, slick and</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>resilient
user experience. Remix is used for server-side rendering (SSR). This meant that
both the backend and the frontend can be made using a single Remix</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>app. Data is
rendered on the server and served to the client side with minimum JavaScript.
Unlike vanilla React, where data is fetched on the frontend and then </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>rendered on
the screen, Remix fetches data on the backend and serves the HTML directly to
the user.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=640 height=860 id="Picture 1" src="doc_files/image001.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 1</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In <i>routes</i>
folder we basically define the different routes, so the different pages, that
we want to support as part of our overall web application.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=603 height=810 id="Picture 21"
src="doc_files/image002.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 2</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>root.jsx </span></i><span
style='font-size:14.0pt;line-height:107%'>defines basically the main skeleton
that will be wrapped around all our web components. To be precise, your page
components will be included in the <i>outlet</i> place in <i>root.jsx</i>. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=986 height=968 id="Picture 5" src="doc_files/image003.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 3</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In the
root.jsx file we can export a special function which is called <i>links</i>.
That is a reserved name. Remix will be looking for an exported function</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>called <i>links.</i>
It looks for such a function in all your route files and the root file, the <i>root.jsx</i>
counts as a route file. This is our route that wraps</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>all other
routes. We need this <i>links </i>function to add some extra links that should
be added in the <i>head </i>section of your HTML document.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=910 height=667 id="Picture 6" src="doc_files/image004.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 4</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You may
notice that the skeleton defines components such as <i>Meta</i>, <i>Links</i>, <i>Scripts</i>
etc. For example, <i>Scripts</i> is used for injecting the client side scripts
when the </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>page is
downloaded on the client side. <i>Meta</i> and <i>Links</i> defined in <i>head</i>
section are used by Remix to inject any metadata or any links that apply to
pages.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>That is how
we can point at a style sheet in a regular HTML document. We add our links with
that <i>links</i> function. This function should return an </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>array
(Figure 3) and in that array you have various objects where every object
defines one link that will be injected in the &lt;Links /&gt; place by Remix</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>when it renders
your page.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=914 height=556 id="Picture 7" src="doc_files/image005.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 5</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You can see
that we added <i>links </i>to payments which means that the style will be
loaded for payments only. Remix will create a link tag</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>and will
inject in the header section when <i>payments </i>(orders) page is loaded. We
have this page specific approach here so that users do not unnecessary download
CSS files.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1268 height=581 id="Picture 8" src="doc_files/image006.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 6</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Here, I am
on the root page and download CSS files specified in <i>root.jsx</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1232 height=719 id="Picture 9" src="doc_files/image007.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 7</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Now, I am on
the <i>payments</i> (orders) page and downloading CSS defined both in root.jsx
and in the <i>payments.jsx</i> file.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1106 height=532 id="Picture 10" src="doc_files/image008.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 8</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>When we are
using <i>form</i> element with React, we often add a submit handler onSubmit
such as &lt;form onSubmit={submittedHandler}&gt;. Then we get an event in
submittedHandler</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>function and
typically call <i>event.preventDefault</i>. In Remix we are not going to add a
submit hander. We are not going to prevent default and with Remix we are going
to embrace the default.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You see that
when we are going to add a category, we specify method=</span><span
style='color:black'>'</span><span style='font-size:14.0pt;line-height:107%'>post</span><span
style='color:black'>'</span><span style='font-size:14.0pt;line-height:107%'>.
If you have worked with HTML form elements before you might know that you can
also add the <i>action</i> attribute</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&lt;form
action=</span><span style='color:black'>''</span><span style='font-size:14.0pt;
line-height:107%'>&gt; which enables you to add a path to which this <i>POST </i>request
should be sent when this form is submitted. We can define the path the post
request should be sent to.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Remix
provides a custom <i>Form</i> component that works identically to the native
HTML &lt;form&gt; element. It behaves like a normal form except that the
interaction with the server is with</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>fetch </span></i><span
style='font-size:14.0pt;line-height:107%'>instead of new document requests,
allowing<i> </i>components to add a better user experience to the page as the
form is submitted and returns with data.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1053 height=870 id="Picture 11" src="doc_files/image009.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 9</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Actually, we
do not have to specify <i>action</i> attribute because <i>CategoryForm.jsx</i>
component is already used in by <i>add.jsx </i>page component. We have to add
some code to</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>add.jsx
route </span></i><span style='font-size:14.0pt;line-height:107%'>to handle that
request.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1102 height=776 id="Picture 12" src="doc_files/image010.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 10</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We have to
add a new function to <i>add.jsx </i>file and we have to <i>export</i> it. This
function must be called <i>action</i>. This is the name Remix will be looking
for just as it was</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>looking for <i>links</i>.
There are couple of special function which you can export in your <i>Route</i>
files. Whatever we put into this action function it will run on the backend,</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>on the
server not in the browser</span></i><span style='font-size:14.0pt;line-height:
107%'>. The codes defined in this <i>action</i> function will also not be
downloaded to the client. Remix will split the code and only execute</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>and store
that code in the <i>action </i>function on the server. When exactly is this
action function triggered? It is triggered whenever a non GET request reaches
this Route.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In our <i>action</i>
function we are handling the submission of a new category.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1129 height=671 id="Picture 13" src="doc_files/image011.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 11</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We submitted
a new category but we also want to retrieve categories whenever <i>categories.jsx</i>
page component is loaded, whenever a GET request is reaches this route.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>That is
achieved by exporting another function here, the <i>loader</i> function. <i>loader
</i>like <i>action </i>is reserved name, and Remix will be looking for such a
function, hence</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>we also
exported it. The component will be pre-rendered on the server. On the server it
will be rendered and the finished HTML code is sent to the client along with</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>some
JavaScript code so we still have an interactive website for the end user but it
is pre-rendered on the server. In this <i>loader </i>we should write some more
backend code,</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>because just
like the code in <i>action</i>, <i>code in the loader will be executes on the
backend only</i>, it will never rich the front end, the client side.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1145 height=773 id="Picture 14" src="doc_files/image012.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 12</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In our
component we can access to these categories, to the data returned by the <i>loader</i>
by using a special hook provided by Remix the <i>useLoaderData</i> hook. This
hook simply</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>gives us
access to the data returned by the <i>loader</i>. The data returned from the <i>loader</i>
is serialized, which is temporarily converted to a JSON string. You cannot
return any</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>rich objects
here, you just get some plain data. Remix seamlessly blends front end back end
together. Note, that Remix ensures that the data are loaded completely</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>before it serves
the finished page. So, we do not need any loader.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1364 height=965 id="Picture 63"
src="doc_files/image013.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 13</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>What can we
do in order not to submit the form twice by clicking the submission button
twice? We can achieve it by also using another hook. That is <i>useTransition</i>
hook which will be</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>renamed to <i>useNavigation
</i>one in a future version. This hook gives us a navigation object. This
navigation object contains some useful data about ongoing requests that might
be happening</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>behind the
scenes. We can access the state property to find out whether we are currently
submitting data, or maybe loading data. If the state is not <i>idle </i>then we
are submitting.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>If
submitting then we will disable the button not to submit twice and change the
label to <i>Saving</i>…</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img width=1206 height=423 src="doc_files/image014.jpg"
align=left hspace=12></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><br
clear=all>
</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 14</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Here, I am <i>Updating
Category</i> by submitting it.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1034 height=652 id="Picture 17" src="doc_files/image015.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 15</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You see I appended
XXXX to <i>dateAdded</i> field to trigger an error as there is no dateAddedXXXX
field in the database.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=985 height=372 id="Picture 18" src="doc_files/image016.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure16</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We get this
ugly error page because this default error page is being shown. Instead, we
want to show our own error page. We can easily do it with Remix.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=891 height=932 id="Picture 19" src="doc_files/image017.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 17</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>For example,
we can go to the root component and in there we can export another new
function. That function is called <i>ErrorBoundary</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>It is
actually a component which we are exporting here therefore it starts with an
uppercase E. This is a component Remix will display if</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>an error
occurs anywhere in your application since we are doing this in the root
component. Here we return our <i>Error</i> component which is the</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Bootstrap
alert component. </span></p>

<span style='font-size:14.0pt;line-height:107%;font-family:"Calibri",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1060 height=265 id="Picture 20" src="doc_files/image018.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 18</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>If we save
this and reload, we will get our own error page. We are not limited to just
adding this to the root component. Instead, we can add this special</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>Boundary</span></i><span
style='font-size:14.0pt;line-height:107%'> component in any Route file. If we only,
have it in the root component, this will simply handle all errors that occur
anywhere.</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>Error Boundary</span></i><span
style='font-size:14.0pt;line-height:107%'> only deals with normal errors, but
there is another kind of error that could occur in case of a full stack
application. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1006 height=633 id="Picture 22" src="doc_files/image019.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 19</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Let</span><span
style='color:black'>'</span><span style='font-size:14.0pt;line-height:107%'>s
navigate to a route that does not exist. Whenever you throw a response Remix
recognizes it and renders a different component than the </span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>Error
Boundary</span></i><span style='font-size:14.0pt;line-height:107%'>. Whenever
you throw anything but a response the Error Boundary will be used.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=991 height=629 id="Picture 23" src="doc_files/image020.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 20</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>A component
which we also should export here in our Routes is called <i>Catch Boundary</i>.
It catches any error responses. And just like <i>Error Boundary</i> </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>you can add
it on a per Route level or add it on the root level, or do both. The root level
<i>Catch Boundary</i> will catch all unhandled error responses that</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>were
generated anywhere else in the application, and the Route specific <i>Catch
Boundary </i>will handle any error responses related to the Route.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1116 height=307 id="Picture 24" src="doc_files/image021.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 21</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Now, if we
visit the page again, we will this page because of the <i>Catch Boundary </i>we
added.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1046 height=643 id="Picture 26" src="doc_files/image022.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 22</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In Remix we
add adynamic route by adding a fie name that starts with a $ dollar sign. The
dollar sign in front of <i>id</i> or <i>catId </i>signals to Remix that this is
a dynamic route and</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>a dynamic
route simply means that the actual value in the path will not be dollar sign <i>id</i>,
but instead that only acts as a placeholder for the actual value that will
later be</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>encoded in
the URL.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1206 height=416 id="Picture 27" src="doc_files/image023.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 23</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Here, I edit
a category and see the category Id in the URL. This category id is interpreted
by Remix as a value for this $id placeholder.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=902 height=528 id="Picture 28" src="doc_files/image024.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 24</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We can also
use dot notation for nested paths in the Routes. <i>payments.raw </i>will be
accessed as <i>/payments/raw</i> to get raw payments (orders) data.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=916 height=619 id="Picture 29" src="doc_files/image025.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 25</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>If we go to <i>Orders</i>
page and click on <i>Get Raw Orders</i> link, we will get raw orders data in a
new browser</span><span style='color:black'>'</span><span style='font-size:
14.0pt;line-height:107%'>s tab.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>There also
is an alternative to using the dot delimited notation.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=379 height=492 id="Picture 4"
src="doc_files/image026.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 26</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The
alternative is creating a folder such as <i>categories</i> in the <i>routes</i>
folder. Remix will treat folder names under routes also as path segment names.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Remix will
automatically construct a path <i>/category</i> which is the folder name and
then the file names such as <i>/categories/add.jsx</i>. When we use</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>the folder
name <i>categories </i>in our case<i> </i>for grouping nested paths together,
then Remix automatically treats the file <i>categories.jsx </i>which carries
the same</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>name as the
folder just with a file extension since it is a file. It treats <i>categories.jsx
</i>file as so-called layout component for those nested routes.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1113 height=506 id="Picture 31" src="doc_files/image027.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 27</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This is the
component page matching <i>/categories/add</i> route.<br clear=all
style='page-break-before:always'>
</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=916 height=621 id="Picture 32" src="doc_files/image028.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 28</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>If we do not
have a layout component like categories.jsx and have index.jsx in a nested
folder instead (not the case in here as it is not a nested folder) then <i>index.jsx</i>
will be called. </span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>index.jsx
</span></i><span style='font-size:14.0pt;line-height:107%'>is a special file
name in the Remix world. It basically denotes the main page that should be
loaded for a given path.</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></i></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1083 height=651 id="Picture 33" src="doc_files/image029.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 29<i>
</i></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Main <i>index.jsx</i>
file matching the <i>root</i> route. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=965 height=686 id="Picture 35" src="doc_files/image030.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 30</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Remix
introduces <i>pathless</i> layout routes. Pathless layout route is a layout
route that we can add to add an extra layer level of nesting without, that is
the important part,</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>without
adding a new path to the URL. We added a folder <i>__goods </i>and the two
leading underscores are important because this signals to Remix that this is a</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>pathless layout
route. Just creating that folder is not enough though. We also have to create a
file called __goods.jsx. Here again the two leading underscores are</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>important.
The part after the underscores, is up to us for both the folder and the file
but it should then be the same. The folder name should match the file name.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The special
thing is that this now allows us to add a layout component that does not
introduce a new a new path in the URL because wd do not want to have</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>/app/categories/add</span></i><span
style='font-size:14.0pt;line-height:107%'> for example. Instead, it should
still be <i>/categories/add</i> but we want to have an extra wrapper component
and that is precisely what this</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>pathless
layout component here will do for us. The styles specified in <i>links() </i>function
will be available for all the routes in the __goods folder. With this pathless</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>layout
component we can display different navigation bars for different sets of
routes.<i> </i></span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></i></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1117 height=463 id="Picture 36" src="doc_files/image031.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 31</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>For example,
<i>Home</i>, <i>Shopping Cart</i> or <i>Orders</i> page you will have the same
navigation.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1233 height=307 id="Picture 39" src="doc_files/image032.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 32</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>When you are
on <i>Categories</i> page then you see a different navigation, <i>Shopping Cart</i>
and <i>Orders</i> links are missing. Since we added those pathless layout
routes it is super easy to load these</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>different
navigation bars. Instead of using one and the same navigation bar and header
for all pages by including it in the root component we can added it in __goods
layout component</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>which is <i>&lt;CategoriesHeader
/&gt;</i> (Figure 30).</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1002 height=574 id="Picture 40" src="doc_files/image033.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 33</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In <i>__payments.jsx</i>
file and in the other pathless layout routes we include the full header bar
&lt;MainHeader /&gt;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1057 height=681 id="Picture 41" src="doc_files/image034.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 34</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We have
another important tool provided by Remix with which we can work. I tis called <i>Resource
Routes</i>. Till now we have seen that all these routes load pages. When we
click on a link, we see a page.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This is the
most common use case. Sometimes we want to have certain links to load data
instead.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1020 height=496 id="Picture 42" src="doc_files/image035.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 35</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Doing that
is pretty straightforward. We just export <i>loader()</i> function. As we saw
this function load the data for the page and the page can then use that data
with help of</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>useLoaderData</span></i><span
style='font-size:14.0pt;line-height:107%'>. In most cases we use loaders in
conjunction with components for which they load data but we can use loaders
standalone to just return some data. So, in the </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>code we have
a loader that returns some data and does not have a connected component. If you
click on </span><span style='color:black'>'</span><span style='font-size:14.0pt;
line-height:107%'>Get Raw Orders</span><span style='color:black'>'</span><span
style='font-size:14.0pt;line-height:107%'> in Orders page (Figure 36) you will
see your orders</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>data in a
new browser</span><span style='color:black'>'</span><span style='font-size:
14.0pt;line-height:107%'>s tab.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1034 height=625 id="Picture 43" src="doc_files/image036.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 36</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>For our
Remix online store, we use MongoDB Atlas. It is a database hosted in the cloud
and we can get I started for free.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=594 height=775 id="Picture 44" src="doc_files/image037.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 37</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In Network
Access page we added 0.0.0.0 IP address to access from everywhere. In order
talk to database, we will use third party library which will significantly</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>simplify the
database interaction. This library is called Prisma </span><a
href="https://www.prisma.io/" target="_blank"><span style='font-size:14.0pt;
line-height:107%'>https://www.prisma.io/</span></a><span style='font-size:14.0pt;
line-height:107%'>. Prisma is a library that simply makes it very to write
code, which under the hood</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>will be
translated to database queries. After installing Prisma we run <i>npx prisma
init –datasource-provider mongodb </i>command to work with MongoDB.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1053 height=653 id="Picture 2" src="doc_files/image038.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 38</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>What this
did is it created a new <i>prisma</i> folder and in there a <i>schema.prisma</i>
file. In that file we basically set up some things that will allow us to work
with mongoDB. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1066 height=399 id="Picture 3" src="doc_files/image039.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 39</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>It also creates
<i>.env </i>file which contains<i> </i>a connection URL that is used to connect
to database.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1231 height=681 id="Picture 34" src="doc_files/image040.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 40</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The first
thing that we should do is connecting our application to database.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1098 height=714 id="Picture 37" src="doc_files/image041.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 41</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Here we copy
this URL, set the password and replace it with the default path of DATABASE_URL
in the .env file.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1032 height=785 id="Picture 38" src="doc_files/image042.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 42</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>With <i>prisma</i>
installed, it is time to tell <i>prisma </i>how our data should look like.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1125 height=548 id="Picture 45" src="doc_files/image043.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 43</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In data <i>folder
</i>you see <i>database.server.js</i> file to connect to database via prisma, <i>categories.server.js</i>
to interact with online store database categories; getting them, adding a new
one etc.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>What is also
interesting here is the name of the files ending <i>.server.js</i>. This is a
specific feature supported by Remix. You can include .server in your file name
right before the file extension</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>to tell
Remix that the code in this file should only be executed on the server.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1119 height=767 id="Picture 46" src="doc_files/image044.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 44</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In our code
we should also add server-side validation. This can be done by going to the
action and there before we actually store data in the database, we want to
validate the data</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>submitted by
the user.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1191 height=700 id="Picture 47" src="doc_files/image045.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 45</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We specify
all validations in validation.server.js file.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=956 height=872 id="Picture 48" src="doc_files/image046.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 46</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Validation errors
when adding a product.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1142 height=284 id="Picture 49" src="doc_files/image047.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 47<br
clear=all>
</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In order to
display category page, we have to get categories</span><span style='color:black'>'</span><span
style='font-size:14.0pt;line-height:107%'> data. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1153 height=496 id="Picture 50" src="doc_files/image048.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 48</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Once we get it,
we may want to update a category data. After clicking the edit button there is
no sense to make another request to get the category data as we already loaded
all categories and</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>we can
filter it out from there.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1386 height=627 id="Picture 52" src="doc_files/image049.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 49</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We fetched
categories in<i> categories.jsx</i> route file so we can use the data we
already have. So how can we use data of another, parent route in a child route?</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1380 height=758 id="Picture 53" src="doc_files/image050.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 50</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I just added
useLoaderData() hook in <i>CategoryForm.jsx</i> file opened <i>Update Category</i>
dialog and refreshed the page. You see that no data is available. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1023 height=952 id="Picture 55" src="doc_files/image051.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 51</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><br
clear=all>
We can get data from a different route provided by Remix <i>useMatches() </i>hook.
<i>useMatches()</i> hook is simply a hook that gives you matches object which
is an array with objects</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>describing
all the route matches Remix identified for the route that is currently active.
We printed the log of the matches array. It is an array of matches where every</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>match is an
object describing one route that matches the currently loaded route. So, all
these routes are currently active. We can use an <i>id </i>to get access to the
data</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>of a loader
of another route. We can see that data are in <i>routes/__goods/categories</i>
actually (Figure 49). <i>data</i> property contains the data fetched by the
loader of this route.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=756 height=533 id="Picture 56" src="doc_files/image052.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 52</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Here we
fetched all categories mathing the route.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1179 height=717 id="Picture 57" src="doc_files/image053.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 53</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Then we
filter out the data from categories data matching the dynamic route id ($id).</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1351 height=827 id="Picture 51" src="doc_files/image054.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 54</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I want to
show another scenario where you may use <i>useMatches</i> hook. We have <i>__shopping.jsx</i>
layout component and <i>cart.tsx</i> component as a child and both of them
define <i>loader</i> function.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1310 height=723 id="Picture 54" src="doc_files/image055.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 55</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I console
log <i>cart</i> and <i>__shopping </i>inside the respective <i>loader</i>
functions and refresh the <i>cart</i> page. After it I see both __shopping and
cart loaders are executed. These loaders execute in parallel not </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>after each
other to serve a page as quickly as possible. When we are on carts page and
executing cart.jsx Remix will always return the closet loader data in loaders
hierachy when using <i>useLoaderData</i> hook. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=623 height=787 id="Picture 58" src="doc_files/image056.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 56</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Here, <i>useLoaderData</i>
will get its <i>loader</i> function info as it is the closet one and render
user</span><span style='color:black'>'</span><span style='font-size:14.0pt;
line-height:107%'>s cart infromation on the page.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1256 height=694 id="Picture 59" src="doc_files/image057.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 57</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>StripeCheckout</span></i><span
style='font-size:14.0pt;line-height:107%'> component needs logged on user email
as a proeprty. As we cannot get user info via <i>useLaoderdata </i>hook as it
is not the closest loader then we can get the user info via useMatches</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>hook by
accessing </span><span style='color:black'>'</span><span style='font-size:14.0pt;
line-height:107%'>routes/__shopping</span><span style='color:black'>'</span><span
style='font-size:14.0pt;line-height:107%'> route and retrieve logged on user</span><span
style='color:black'>'</span><span style='font-size:14.0pt;line-height:107%'>s
data.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1300 height=644 id="Picture 60" src="doc_files/image058.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 58</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We saw how
we can submit data via Remix </span><span style='font-size:14.0pt;line-height:
107%'>custom <i>Form</i> component that works identically to the native HTML
&lt;form&gt; element (Figure8). But if we want to have an action</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>on the back
end that does not return a redirect but some raw data we have to send the
request differently. That can be done with <i>useFetcher </i>hook which is
another hook</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>provided by
Remix. This gives us a fetcher object which contains various pieces of data and
also a submit method as well as a load method.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Fetcher
essentially is an object which we can use to build user interface where we want
to load or submit requests behind the scenes without triggering subsequent</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>navigation
actions. You see we also add an extra confirmation step using <i>confirm</i>
function offered by the browser: <i>Are you sure you want to delete this
category?</i> </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1170 height=291 id="Picture 61" src="doc_files/image059.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 59</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>With this
additional code it makes a lot of sense to use <i>useFetcher </i>to
programmatically submit the form.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>User
Authentication</span></i></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The goal
always is that you have a user and you have your website and that user sends
their credentials, email and password for example</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>and you then
want to validate those credentials in your back-end code and grant the user
access to protected resources if these credentials are valid.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>One common
approach for that is to validate credentials and then create and sign a cookie
on the backend. In your backend code sign it with a secret</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>only you
know so which is not known by the user. Then that session cookie that was
generated can be sent to the user, it then stored on their machine</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>by the
browser in a secure way and it can then be attached to outgoing requests to
protected resources. Then you can check whether a valid cookie is attached</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>to those
requests, to the protected resources and only if that is the case you grant
access to those resources. That is the idea behind such a session cookie.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You create a
session, you create such a cookie, you send it to the user, the user</span><span
style='color:black'>'</span><span style='font-size:14.0pt;line-height:107%'>s
browser stores it and then it is attached to requests to protected resources.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In your
back-end code you therefore need code that generates that cookie and signs it
but you also need code that validates the cookie and checks if a valid</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>cookie is
attached to those requests for protected resources.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1153 height=815 id="Picture 62" src="doc_files/image060.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 60</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Authentication
related code is defined in <i>auth.server.js</i> file to really make sure that
this code never ends up on the front end.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1078 height=512 id="Picture 64" src="doc_files/image061.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 61</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>First, we
import <i>createCookieSessionStorgae</i> which will help us to create cookie-based
sessions then we create it for 30 days.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=997 height=513 id="Picture 65" src="doc_files/image062.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 62</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Then we
create session cookies. We expect to get a userId of the authenticated user. In
this function we use <i>sessionStorage</i> to get a session. Behind the scenes
Remix will create a cookie for us.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We can then
add some session data by using the <i>set</i> method on this session. We want
to store the id of the user that is authenticated in that session, so in that
cookie, and I will set that user Id key here.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Now, we must
send that cookie to the user. We must generate a response. We want to redirect
the user to a different page, because the user is on the auth page and attach
that generated session cookie</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>to that
outgoing redirect response. That cookie reaches the browser of the user and the
browser will then automatically store the cookie. We redirect by getting the
path as an argument.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1053 height=589 id="Picture 66" src="doc_files/image063.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 63</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>At the end
of the <i>signin</i> function we call <i>createUserSession </i>and pass the
user id and the redirect path which is the root path.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1156 height=526 id="Picture 67" src="doc_files/image064.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 64</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The user is signing
in.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1173 height=544 id="Picture 68" src="doc_files/image065.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 65</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>After the
sign in the session cookie was set and the user was redirected to the root
path.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1244 height=525 id="Picture 69" src="doc_files/image066.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 66</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Here is the session
cookie was set.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We should
make sure that certain pages are not accessible and for that reason we can use
their loaders to block navigation to these pages.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=853 height=692 id="Picture 70" src="doc_files/image067.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 67</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>For example,
<i>payments.jsx</i> route. We have a loader where we get our payments and here
it would make sense to first of all to check whether we have a logged in user.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>If that is
not the case, we do not want to continue at all. Instead, we want to redirect
the user away and not grant access to this page and its subpages.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=952 height=637 id="Picture 72" src="doc_files/image068.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 68</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>For that we
create <i>requireUserSession</i> function. We call <i>getuUserFromSession</i>
which is one of the functions we created earlier. If a user is not
authenticated, we <i>throw redirect</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This is
something we have not done before. We have thrown normal responses and we
return to redirects, but we can also throw redirects. If we do that, we will
not</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>trigger a
catch boundary, but instead the user will simply be redirected.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1152 height=328 id="Picture 73" src="doc_files/image069.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 69</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We may need
to check <i>userId</i> existence not in a single place but in many <i>loaders</i>.
This is important to do that and you can just put it on a segment of all your
routes because</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>the loaders
and actions can be run independently and in parallel. This does needs to be
applied to each one of these loaders and actions. If it becomes cumbersome,
then</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>you can use
Remix with some sort of middleware tool like Express. You can add a middleware
that double checks the user</span><span style='color:black'>'</span><span
style='font-size:14.0pt;line-height:107%'>s authenticates state there. There is
nothing </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>currently
built into Remix for that. So, we are going to be adding this <i>requireUserSession
</i>on any page where we only want the authenticated user.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=887 height=710 id="Picture 74" src="doc_files/image070.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 70</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Metadata is
added with a special function that can be exported I your route files and
indeed the root route is exporting such a <i>meta</i> function already.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=763 height=572 id="Picture 75" src="doc_files/image071.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 71</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You can see <i>Online</i>
Store title on the main page. When you reply on &lt;Meta /&gt; function then
Remix will merge the metadata you define in<i> meta()</i> function with all</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>the other
metadata set by any other routes automatically and will inject into the head
section into this &lt;Meta /&gt; element.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=985 height=566 id="Picture 76" src="doc_files/image072.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 72</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In this dynamic
$id route we output some dynamic info; the selected category title.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1017 height=484 id="Picture 77" src="doc_files/image073.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 73</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We edited
first category and the tab</span><span style='font-size:14.0pt;line-height:
107%;color:black'>'</span><span style='font-size:14.0pt;line-height:107%'>s title
was replaced with the category name.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1113 height=544 id="Picture 78" src="doc_files/image074.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 73</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We selected
the second category and the category name <i>Shoes </i>was displayed as a title.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We can also
attach custom response headers inside Remix. Suppose we want to add a header in
our categories and products route.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=795 height=722 id="Picture 79" src="doc_files/image075.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 75</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Remix
provides us with the <i>headers</i> function which we export this inside our
components. <i>headers() </i>should return an object where you specify your
headers</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>that should
be added to the page response. We added <i>Cache-Control</i> header with
max-age of 3600 (60 minutes). We give the browser the extra information</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>that this
page can be cached for up to 60 minutes and only thereafter a fresh copy should
be requested. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=988 height=774 id="Picture 80" src="doc_files/image076.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 76</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>If we go to <i>categories</i>
page and reload it, you see that there we do have cache control response. If
you make a change to this page, you will see that change after 60 minutes.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1201 height=551 id="Picture 81" src="doc_files/image077.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 77</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>If we do a
change to a parent route in our case in __app.js pathless route the change will
not be picked up by a child route automatically which is, say, <i>about.jsx</i>.
You can get </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>it from the
parent route via <i>parentHeaders</i> and in this case you do not need to
specify max-age 3600 in many places. We just get that value from the parent header
and</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>max-age
value can be modified in a single place.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1294 height=528 id="Picture 82" src="doc_files/image078.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 78</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>There is a
page in our app that can work without JavaScript. We do not need JavaScript on
this <i>About </i>page as we have some static content. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=846 height=877 id="Picture 83" src="doc_files/image079.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 79</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Because that
is the case, we could disable JavaScript for this page. The advantage would be
that if we visit that page, we do not have to download all these JavaScript
files.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>These files
are downloaded because after the initial request we are back to single age
application and these files are needed to run that single page application.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>If we would
not load them the page could be served even faster. We would avoid unnecessary
downloads.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=818 height=363 id="Picture 84" src="doc_files/image080.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 80</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In our <i>root.jsx</i>
file we get this main document we find &lt;Scripts/&gt; component. This is the
place where Remix injects all &lt;script&gt; tags to be downloaded.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>If you
remove them, you will see that we have no JavaScript files being downloaded.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=874 height=660 id="Picture 85" src="doc_files/image081.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 81</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We can
export a simple constant called <i>handle</i>. <i>handle </i>allows you to
store arbitrary data, for example <i>disableJS </i>(or any other name) set to
true.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This is
essentially some extra data which you can attach to your routes.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=983 height=739 id="Picture 86" src="doc_files/image082.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 82</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We can
access it with help of <i>useMatches</i> hook. In the root component we call <i>useMatches.
</i>Our constant <i>disableJS </i>will be <i>true</i> if we are on a page when
any child route</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>has
disableJS </span></i><span style='font-size:14.0pt;line-height:107%'>set in its
<i>handle </i>object and has a value of <i>true</i>. We use that value to
conditionally include our &lt;Scripts /&gt;. If <i>disableJS </i>is <i>false </i>then
it will be included otherwise will not.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=804 height=777 id="Picture 87" src="doc_files/image083.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 83</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>If we reload
<i>About</i> page now you will see that no scripts are included.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1120 height=508 id="Picture 88" src="doc_files/image084.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 84</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>If we click
on any of these navigation links it takes a second before we actually get
navigated because we have to go and load all data. Data request actually may take
a long time,</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>because we
are in a slow network maybe. We can optimize this because normally the user
hovers over a link for even maybe 500 milliseconds before they actually click.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Because
Remix knows all of the CSS, JavaScript and the data that is needed by just
looking at the URL, we can tell Remix to go ahead and start fetching all of
that as soon as</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>the user
shows some sort of indication that they want to go to that particular page.
That is what we are going to do.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=946 height=540 id="Picture 89" src="doc_files/image085.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 85</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Links that
are coming from Remix has a special prop on it called <i>prefetch</i>. <i>intent
</i>means that when a user has an intent that they want to navigate to this</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>page, go
ahead and prefetch everything.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=653 height=743 id="Picture 90" src="doc_files/image086.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 86</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>When I hover
over <i>categories</i> link (not click) we start fetching the <i>JavaScript </i>as
well as the data.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>When I
actually click on it, it is an instant transition.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1311 height=353 id="Picture 91" src="doc_files/image087.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 87</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We have got
our payment service and our ultimate goal is to reach out to the stripe API and
charge the users credit card for some amount. In order to charge users' credit
card, we are going to install the</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Node.js
Stripe SDK </span><a href="https://www.npmjs.com/package/stripe" target="_blank"><span
style='font-size:14.0pt;line-height:107%'>https://www.npmjs.com/package/stripe</span></a><span
style='font-size:14.0pt;line-height:107%'>. It is an NPM module that has a
little bit of code inside of it to allow us to very easily communicate with the
Stripe API. We are going to call a</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>method
inside there to charge the users</span><span style='color:black'>'</span><span
style='font-size:14.0pt;line-height:107%'> credit card. We have to Stripe Web
site </span><a href="http://stripe.com/" target="_blank"><span
style='font-size:14.0pt;line-height:107%'>http://stripe.com</span></a><span
style='font-size:14.0pt;line-height:107%'>, sign up for an account and get an
API key.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1365 height=603 id="Picture 92" src="doc_files/image088.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 88</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;color:black'>You see we have a
Publishable key and Secret Key. Secret key is the one that we want to make use
of inside of our project. It will allow us to reach out to the Strike API and
somehow</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;color:black'>charge a user's
credit card. Note, we are on Test mode meaning no money will be charged and you
do not even need to register a credit card.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;color:black'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt'><img border=0 width=1288
height=757 id="Picture 93" src="doc_files/image089.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;color:black'>Figure 89</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>For the
testing purposes you can use 4242 4242 4242 4242 Card Information, any valid
three-digit CVC such as 567 and any future date such as 12/34.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

</div>

</body>

</html>
